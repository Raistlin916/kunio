<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=320, user-scalable=no, target-densitydpi=device-dpi">
    <title>phaser</title>
    <script src="http://cdn.staticfile.org/phaser/2.1.3/phaser.min.js"></script>
</head>
<body>
    <script>
        
    (function(){
        var game = new Phaser.Game(320, 300, Phaser.AUTO, 'phaser-example', { preload: preload, create: create, update: update });
        
        var kunio, platforms;
        
        function preload () {
            game.load.atlasJSONHash('kunio', 'asserts/kunio.png', 'asserts/kunio.json');
            game.load.image('tile', 'asserts/tile.png');
        }
        
        function create () {
            game.stage.backgroundColor = '#ffffff';
            kunio = game.add.sprite(200, 200, 'kunio');
            kunio.animations.add('left', [0,1,2]);
            kunio.animations.add('right', [3,4,5]);
            
            game.physics.startSystem(Phaser.Physics.ARCADE);
            
            game.physics.arcade.enable(kunio);
            kunio.body.gravity.y = 500;
            kunio.body.velocity.y = 100;
            kunio.body.collideWorldBounds = true;
            
            kunio.body.bounce.set(0.2);
            
            platforms = game.add.group();
            
            platforms.enableBody = true;
            
            var ground = platforms.create(200, game.world.height-50, 'tile');
            ground.body.immovable = true;
            
            var ground2 = platforms.create(216, game.world.height-50, 'tile');
            ground2.body.immovable = true;
        }
        
        function update () {
            game.physics.arcade.collide(kunio, platforms);
            
            if (game.input.keyboard.isDown(Phaser.Keyboard.LEFT)) {
                kunio.x -= 2;
                kunio.animations.play('left', 15, true);
            } else if(game.input.keyboard.isDown(Phaser.Keyboard.RIGHT)) {
                kunio.x += 2;
                kunio.animations.play('right', 15, true);
            } else {
                kunio.animations.stop();
            }
            
            if(game.input.keyboard.isDown(Phaser.Keyboard.SPACEBAR) && kunio.body.touching.down) {
                kunio.body.velocity.y = -150;
            }
        }
        
     
    })();
    
    </script>
</body>
</html>